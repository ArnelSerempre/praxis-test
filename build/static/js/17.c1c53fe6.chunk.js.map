{"version":3,"sources":["views/screens/CommentAdmin/hook/index.ts","views/screens/CommentAdmin/active.styles.ts","views/screens/CommentAdmin/index.tsx"],"names":["useActiveUsers","history","useHistory","loginSelector","useAuthSelectors","useSelectors","useModels","login","useSelector","useState","comments","setComments","totalPag","page","getComments","axios","get","process","then","res","console","log","data","catch","err","useEffect","token","user","role","push","trackPromise","deleteComment","id","deleteCommentFinal","useActiveStyles","StyledContainer","styled","section","props","background","ActiveUsers","Fragment","Container","TableContainer","component","Paper","Table","TableHead","TableCell","align","TableBody","_","map","item","index","TableRow","author_name","dangerouslySetInnerHTML","__html","content","rendered","moment","date","format","Grid","md","className","src","alt","onClick"],"mappings":"iSAgEeA,EAzDQ,WACnB,IAAMC,EAAUC,cAKRC,GAAkBC,GADGC,EADJC,cAAjBD,gBACAD,oBACAD,cACFI,EAAQC,YAAYL,GAG1B,EAAgCM,mBAAc,IAA9C,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAmBF,mBAAiB,GAA7BG,EAAP,oBACA,EAAeH,mBAAiB,GAAzBI,EAAP,oBAGMC,EAAc,WAChB,OAAOC,IAAMC,IAAN,UAAaC,kDAAb,oBACNC,MAAK,SAACC,GACHC,QAAQC,IAAIF,EAAIG,MAChBX,EAAYQ,EAAIG,SACjBC,OAAM,SAACC,GACNJ,QAAQC,IAAIG,OA0BpB,OARAC,qBAAU,WACHlB,EAAMmB,OAA6B,kBAApBnB,EAAMoB,KAAKC,MACzB3B,EAAQ4B,KAAK,KAEjBC,uBAAahB,OAEd,IAEI,CACHJ,WACAE,WACAC,OACAkB,cAjBkB,SAACC,GACnBF,uBAVuB,SAACE,GACxB,OAAOjB,IAAMC,IAAN,UAAaC,kDAAb,uCAA8Ee,IACpFd,MAAK,SAACC,GACHW,uBAAahB,QACdS,OAAM,SAACC,GACNJ,QAAQC,IAAIG,MAKHS,CAAmBD,O,cCtBzBE,EAjBS,WAYpB,MAAO,CACHC,gBAZoBC,IAAOC,QAAV,wOACZ,+GAEoB,SAACC,GAAD,OAAgBA,EAAMC,gB,yBCyCxCC,UAzCS,WAEpB,MAAoCxC,IAA5BU,EAAR,EAAQA,SAAUqB,EAAlB,EAAkBA,cACVI,EAAoBD,IAApBC,gBAER,OACI,cAAC,IAAMM,SAAP,UACI,cAACN,EAAD,CAAiBI,WAAW,yEAA5B,SACI,cAACG,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,CAAgBC,UAAWC,IAA3B,SACI,eAACC,EAAA,EAAD,WACI,eAACC,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAWC,MAAM,SAAjB,SAA0B,wCAC1B,cAACD,EAAA,EAAD,CAAWC,MAAM,SAAjB,SAA0B,6CAC1B,cAACD,EAAA,EAAD,CAAWC,MAAM,SAAjB,SAA0B,uDAC1B,cAACD,EAAA,EAAD,CAAWC,MAAM,SAAjB,SAA0B,4CAE9B,cAACC,EAAA,EAAD,UAEQC,IAAEC,IAAI1C,GAAU,SAAC2C,EAAWC,GAAZ,OACZ,eAACC,EAAA,EAAD,WACI,cAACP,EAAA,EAAD,CAAWC,MAAM,SAAjB,SAA2BI,EAAKG,cAChC,cAACR,EAAA,EAAD,CAAWC,MAAM,SAASQ,wBAAyB,CAAEC,OAAQL,EAAKM,QAAQC,YAC1E,cAACZ,EAAA,EAAD,CAAWC,MAAM,SAAjB,SAA2BY,IAAOR,EAAKS,MAAMC,OAAO,gBACpD,cAACf,EAAA,EAAD,CAAWC,MAAM,SAAjB,SACI,cAACe,EAAA,EAAD,CAAMX,MAAI,EAACY,GAAI,GAAIC,UAAU,sBAA7B,SACI,qBAAKC,IAAI,yEAAyEC,IAAI,GAAGC,QAAS,kBAAMtC,EAAcsB,EAAKrB,aANxHsB","file":"static/js/17.c1c53fe6.chunk.js","sourcesContent":["import axios from \"axios\";\nimport useModels from \"models\";\nimport { useEffect, useState } from \"react\";\nimport { trackPromise } from \"react-promise-tracker\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useActiveUsers = () => {\n    const history = useHistory()\n\n    // Controllers\n    const { useSelectors } = useModels();\n    const { useAuthSelectors } = useSelectors();\n    const { loginSelector } = useAuthSelectors();\n    const login = useSelector(loginSelector);\n\n    // States\n    const [comments, setComments] = useState<any>([]);\n    const [totalPag] = useState<number>(1);\n    const [page] = useState<number>(1);\n\n    // Handlers\n    const getComments = () : Promise<any> => {\n        return axios.get(`${process.env.REACT_APP_BASE_URL_API}/wp/v2/comments`)\n        .then((res:any) => {\n            console.log(res.data)\n            setComments(res.data);\n        }).catch((err: any) => {\n            console.log(err);\n        })\n    }\n\n    const deleteCommentFinal = (id: number) : Promise<any> => {\n        return axios.get(`${process.env.REACT_APP_BASE_URL_API}/comments/delete-comment?id=${id}`)\n        .then((res:any) => {\n            trackPromise(getComments());\n        }).catch((err: any) => {\n            console.log(err);\n        })\n    }\n\n    const deleteComment = (id: number) => {\n        trackPromise(deleteCommentFinal(id));\n    }\n    \n    // useEffect\n    useEffect(() => {\n        if(login.token && login.user.role !== \"Administrador\"){\n            history.push('/')\n        }\n        trackPromise(getComments());    \n        // eslint-disable-next-line\n    }, [])\n\n    return {\n        comments,\n        totalPag,\n        page,\n        deleteComment,\n        // activateUser,\n        // deletedUser\n    };\n}\n\nexport default useActiveUsers;","import styled from \"styled-components\";\nimport tw from \"twin.macro\";\n\nconst useActiveStyles = () => {\n    const StyledContainer = styled.section`\n        ${tw `py-12 md:py-12`}\n        margin-top: 8.9rem;\n        background-image: url('${(props: any) => props.background}');\n        background-size: 100% 100%;\n\n        @media (max-width: 1023px){\n            margin-top: 6.9rem;\n        }\n    `;\n\n    return {\n        StyledContainer\n    }\n}\n\nexport default useActiveStyles;","import { Container, Grid, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from \"@mui/material\";\nimport React, { FC } from \"react\";\nimport _ from \"lodash\";\nimport useActiveUsers from \"./hook\";\nimport useActiveStyles from \"./active.styles\";\nimport moment from \"moment\";\n\nconst ActiveUsers: FC = (): JSX.Element => {\n    // Controller\n    const { comments, deleteComment } = useActiveUsers();\n    const { StyledContainer } = useActiveStyles()\n\n    return (\n        <React.Fragment>\n            <StyledContainer background=\"http://localhost/api-proxis/wp-content/uploads/2021/12/Recurso-7-3.png\">\n                <Container>\n                    <TableContainer component={Paper}>\n                        <Table>\n                            <TableHead>\n                                <TableCell align=\"center\"><b>Autor</b></TableCell>\n                                <TableCell align=\"center\"><b>Comentario</b></TableCell>\n                                <TableCell align=\"center\"><b>Fecha De Publicacion</b></TableCell>\n                                <TableCell align=\"center\"><b>Borrar</b></TableCell>\n                            </TableHead>\n                            <TableBody>\n                                {\n                                    _.map(comments, (item: any, index: any) => (\n                                        <TableRow key={index}>\n                                            <TableCell align=\"center\">{item.author_name}</TableCell>\n                                            <TableCell align=\"center\" dangerouslySetInnerHTML={{ __html: item.content.rendered}}></TableCell>\n                                            <TableCell align=\"center\">{moment(item.date).format('DD-MM-YYYY')}</TableCell>\n                                            <TableCell align=\"center\">\n                                                <Grid item md={12} className=\"flex justify-center\">\n                                                    <img src=\"http://localhost/api-proxis/wp-content/uploads/2021/12/Recurso-2-4.png\" alt=\"\" onClick={() => deleteComment(item.id)} />\n                                                </Grid>\n                                            </TableCell>\n                                        </TableRow>\n                                    ))\n                                }\n                            </TableBody>\n                        </Table>\n                    </TableContainer>\n                </Container>\n            </StyledContainer>\n        </React.Fragment>\n    );\n};\n\nexport default ActiveUsers;"],"sourceRoot":""}